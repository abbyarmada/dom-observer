<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>dom-observer</h1><p><a href="https://circleci.com/gh/leafui/dom-observer/tree/master"><img src="https://img.shields.io/circleci/project/leafui/dom-observer/master.svg" alt="Build"></a> <a href="http://semver.org/"><img src="https://img.shields.io/:semver-%E2%9C%93-brightgreen.svg" alt="SemVer"></a>
<a href="LICENSE"><img src="https://img.shields.io/github/license/leafui/dom-observer.svg" alt="License"></a></p>
<p><a href="https://saucelabs.com/u/leafui"><img src="https://saucelabs.com/browser-matrix/leafui.svg" alt="Tests"></a></p>
<p>An abstraction for <a href="https://developer.mozilla.org/pt-BR/docs/Web/API/MutationObserver">Mutation Observer</a> with some extra features in ~1kb gzipped.</p>
<p>Useful to observe an DOM element for changes without taking too much hit on performance, the <a href="https://developer.mozilla.org/pt-BR/docs/Web/API/MutationObserver">Mutation Observer</a> technique is used by many libraries and frameworks.</p>
<p>This lib intention is to provide quick and simple access to the Mutation Observer features by abstracting the API into a simple function call and adding some handy methods.</p>
<h2>Getting Started</h2><p>As usual most package managers are supported.</p>
<h3>NPM</h3><p><code>npm install dom-observer</code></p>
<h3>Bower</h3><p><code>bower install dom-observer</code></p>
<h3>Direct Download</h3><ol>
<li><a href="https://github.com/leafui/dom-observer/archive/v0.1.0.zip">Download ZIP</a></li>
<li>Unzip</li>
<li>Grab the JS in the <code>dist</code> folder.</li>
<li>Profit!</li>
</ol>
<h3>CDN</h3><p><a href="https://cdn.rawgit.com/leafui/dom-observer/v0.1.0/dist/dom-observer.min.js">RawGit</a></p>
<h2>Basic Usage</h2><p>It's really simple if you know how Mutation Observers work.</p>
<p>This lib is designed to ease your life when dealing with MOs.</p>
<p>Take a look at this:</p>
<pre class="prettyprint source lang-javascript"><code>// My function that handle mutations
function handleMutations(mutations) {
  mutations.forEach(mutation, () => {
    console.log('YO', mutation);
  });
}

// Import the module, a global var is exposed too if you're not into modules
import observe from 'dom-observer';
const myTarget = document.body;
const myObserver = observe(myTarget, handleMutations);</code></pre><p>That would be the same as doing the following using just the MutationObserver:</p>
<pre class="prettyprint source lang-javascript"><code>// My function that handle mutations
function handleMutations(mutations) {
  mutations.forEach(mutation, () => {
    console.log('YO', mutation);
  });
}

const myTarget = document.body;
const myObserver = new MutationObserver(handleMutations);
myObserver.observe(myTarget, {
  attributes: true,
  childList: true,
  characterData: true
});</code></pre><p>Notice that with the lib we default to all 3 properties (attributes, childList and characterData) true when you pass no object.</p>
<p>Of course you can specify to just observe attributes by setting it explicitly to true, then the lib will respect that.</p>
<p>In fact, the observe function second argument is MutationObserverInit object. Meaning it will respect options like <code>subtree</code> or <code>attributeFilter</code> too. Please check the <a href="https://developer.mozilla.org/pt-BR/docs/Web/API/MutationObserver#MutationObserverInit">MO docs</a> if you're lost.</p>
<p>As you would expect the callback, in this case the <code>handleMutations</code> function, receives as first argument an array of <a href="https://developer.mozilla.org/pt-BR/docs/Web/API/MutationObserver#MutationRecord">MutationRecord</a> so you can handle the DOM mutations as you please.</p>
<h3>Adding targets to the observer</h3><p>It's not recommended but you can add a new target to an existent observer with <code>addTarget</code>.</p>
<p>The lib allows you to add a new target while maintaining the config from the constructor.</p>
<pre class="prettyprint source lang-javascript"><code>myObserver.addTarget(document.querySelector('#myElement'));</code></pre><h3>Adding a new target with new config</h3><p>If you want to add an entirely new target with config you can do it too with <code>andObserve</code>.</p>
<pre class="prettyprint source lang-javascript"><code>myObserver.andObserve(document.querySelector('#myElement'), {
  attributes: true
});</code></pre><h3>Chaning the function that handles mutations on the fly</h3><p>You can change the callback you set on the observe function later on with <code>changeCallback</code>.</p>
<pre class="prettyprint source lang-javascript"><code>function myNewFunc(mutations) {
  console.log('I\'m handling the changes now!');
}
myObserver.changeCallback(myNewFunc);</code></pre><h3>Taking records</h3><p>This mirrors the behaviors of the original Mutation Observer <code>takeRecords()</code> method. It works as you expect.</p>
<pre class="prettyprint source lang-javascript"><code>myObserver.takeRecords(); // Will return the records cached</code></pre><h3>Wipe</h3><p>This new handy function wiped the records cache and returns a chainable instance of <code>dom-observer</code>.</p>
<pre class="prettyprint source lang-javascript"><code>myObserver.wipe(); // Cache is now clean and returns myObserver</code></pre><h3>Chaining</h3><p>The lib was designed to make it easy to chain functionality.</p>
<pre class="prettyprint source lang-javascript"><code>const myObserver = observe(myTarget, handleMutations)
  .addTarget(document.querySelector('#otherElement'))
  .andObserve(document.querySelector('#yetAnotherElement'), {
    childList: true
  });</code></pre><h2>Docs</h2><p><a href="https://github.com/leafui/dom-observer/issues/2">We are working to put them in the wiki</a></p>
<p>As of now please check the <code>docs</code> folder. It works best if you clone the project and use your local browser.</p>
<h2>License</h2><p><a href="LICENSE">MIT License</a></p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-dom-observer.html">dom-observer</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Mar 09 2016 08:55:21 GMT-0300 (BRT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>